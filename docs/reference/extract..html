<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Extract a character column into multiple columns using regex — extract. • tidytable</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Extract a character column into multiple columns using regex — extract." />
<meta property="og:description" content="Given a regular expression with capturing groups, extract() turns each group
into a new column. If the groups don't match, or the input is NA, the output
will be NA. When you pass same name in the into argument it will merge
the groups together. Whilst passing NA in the into arg will drop the group
from the resulting tidytable" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidytable</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/speed_comparisons.html">speed_comparisons</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/markfairbanks/tidytable/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract a character column into multiple columns using regex</h1>
    <small class="dont-index">Source: <a href='https://github.com/markfairbanks/tidytable/blob/master/R/extract.R'><code>R/extract.R</code></a></small>
    <div class="hidden name"><code>extract..Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Given a regular expression with capturing groups, <code>extract()</code> turns each group
into a new column. If the groups don't match, or the input is <code>NA</code>, the output
will be <code>NA</code>. When you pass same name in the <code>into</code> argument it will merge
the groups together. Whilst passing <code>NA</code> in the <code>into</code> arg will drop the group
from the resulting <code>tidytable</code></p>
    </div>

    <pre class="usage"><span class='fu'>extract.</span><span class='op'>(</span>
  <span class='va'>.df</span>,
  <span class='va'>col</span>,
  <span class='va'>into</span>,
  regex <span class='op'>=</span> <span class='st'>"([[:alnum:]]+)"</span>,
  remove <span class='op'>=</span> <span class='cn'>TRUE</span>,
  convert <span class='op'>=</span> <span class='cn'>FALSE</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.df</th>
      <td><p>A data.table or data.frame</p></td>
    </tr>
    <tr>
      <th>col</th>
      <td><p>Column to extract from</p></td>
    </tr>
    <tr>
      <th>into</th>
      <td><p>New column names to split into. A character vector.</p></td>
    </tr>
    <tr>
      <th>regex</th>
      <td><p>A regular expression to extract the desired values. There
should be one group (defined by <code>()</code>) for each element of <code>into</code></p></td>
    </tr>
    <tr>
      <th>remove</th>
      <td><p>If TRUE, remove the input column from the output data.table</p></td>
    </tr>
    <tr>
      <th>convert</th>
      <td><p>If TRUE, runs <code><a href='https://rdrr.io/r/utils/type.convert.html'>type.convert()</a></code> on the resulting column.
Useful if the resulting column should be type integer/double.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments passed on to methods.</p></td>
    </tr>
    </table>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='cn'>NA</span>, <span class='st'>"a-b-1"</span>, <span class='st'>"a-d-3"</span>, <span class='st'>"b-c-2"</span>, <span class='st'>"d-e-7"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>df</span> <span class='op'>%&gt;%</span> <span class='fu'>extract.</span><span class='op'>(</span><span class='va'>x</span>, <span class='st'>"A"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tidytable: 5 × 1</span>
#&gt;   A    
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span> <span style='color: #BB0000;'>NA</span>   
#&gt; <span style='color: #BCBCBC;'>2</span> a    
#&gt; <span style='color: #BCBCBC;'>3</span> a    
#&gt; <span style='color: #BCBCBC;'>4</span> b    
#&gt; <span style='color: #BCBCBC;'>5</span> d    </div><div class='input'><span class='va'>df</span> <span class='op'>%&gt;%</span> <span class='fu'>extract.</span><span class='op'>(</span><span class='va'>x</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"A"</span>, <span class='st'>"B"</span><span class='op'>)</span>, <span class='st'>"([[:alnum:]]+)-([[:alnum:]]+)"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tidytable: 5 × 2</span>
#&gt;   A     B    
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span> <span style='color: #BB0000;'>NA</span>    <span style='color: #BB0000;'>NA</span>   
#&gt; <span style='color: #BCBCBC;'>2</span> a     b    
#&gt; <span style='color: #BCBCBC;'>3</span> a     d    
#&gt; <span style='color: #BCBCBC;'>4</span> b     c    
#&gt; <span style='color: #BCBCBC;'>5</span> d     e    </div><div class='input'>
<span class='co'># If no match, NA:</span>
<span class='va'>df</span> <span class='op'>%&gt;%</span> <span class='fu'>extract.</span><span class='op'>(</span><span class='va'>x</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"A"</span>, <span class='st'>"B"</span><span class='op'>)</span>, <span class='st'>"([a-d]+)-([a-d]+)"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tidytable: 5 × 2</span>
#&gt;   A     B    
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span> <span style='color: #BB0000;'>NA</span>    <span style='color: #BB0000;'>NA</span>   
#&gt; <span style='color: #BCBCBC;'>2</span> a     b    
#&gt; <span style='color: #BCBCBC;'>3</span> a     d    
#&gt; <span style='color: #BCBCBC;'>4</span> b     c    
#&gt; <span style='color: #BCBCBC;'>5</span> <span style='color: #BB0000;'>NA</span>    <span style='color: #BB0000;'>NA</span>   </div><div class='input'><span class='co'># drop columns by passing NA</span>
<span class='va'>df</span> <span class='op'>%&gt;%</span> <span class='fu'>extract.</span><span class='op'>(</span><span class='va'>x</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"A"</span>, <span class='cn'>NA</span>, <span class='st'>"B"</span><span class='op'>)</span>, <span class='st'>"([a-d]+)-([a-d]+)-(\\d+)"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tidytable: 5 × 2</span>
#&gt;   A     B    
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span> <span style='color: #BB0000;'>NA</span>    <span style='color: #BB0000;'>NA</span>   
#&gt; <span style='color: #BCBCBC;'>2</span> a     1    
#&gt; <span style='color: #BCBCBC;'>3</span> a     3    
#&gt; <span style='color: #BCBCBC;'>4</span> b     2    
#&gt; <span style='color: #BCBCBC;'>5</span> <span style='color: #BB0000;'>NA</span>    <span style='color: #BB0000;'>NA</span>   </div><div class='input'><span class='co'># merge groups by passing same name</span>
<span class='va'>df</span> <span class='op'>%&gt;%</span> <span class='fu'>extract.</span><span class='op'>(</span><span class='va'>x</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"A"</span>, <span class='st'>"B"</span>, <span class='st'>"A"</span><span class='op'>)</span>, <span class='st'>"([a-d]+)-([a-d]+)-(\\d+)"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tidytable: 5 × 2</span>
#&gt;   A     B    
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span> NANA  NA   
#&gt; <span style='color: #BCBCBC;'>2</span> a1    b    
#&gt; <span style='color: #BCBCBC;'>3</span> a3    d    
#&gt; <span style='color: #BCBCBC;'>4</span> b2    c    
#&gt; <span style='color: #BCBCBC;'>5</span> NANA  NA   </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Mark Fairbanks.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


